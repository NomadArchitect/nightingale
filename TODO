Fix -O2 (again)

Long Term:
- Redo VFS (again probably)
- Add net back
- How does ipc work
- Lock important resources [resilience]
- Dynamic linking [linker]

Random things:
- handle_syscall should probably be in syscall.c
- sys_traceback should return traceback, not print it from kernel mode
- shell operator precedence is backwards - they should all be left associative
  not right. I probably need to juggle back and forth between parse_paren
  and a parse_operator or something.
- symbol lookup in kernel modules
- unbacked pages should be mapped to a 0 page, not unmapped
- replace syscall_ptr_check with a proper copy to/from user routine
- handle partial writes
- consolidate pipes as unidirectional UNIX sockets
- rename ofd->flags to ofd->mode and file->permissions to file->mode

Bugs:
- socket refcounts are off - can be freed while in directory
- remove sys_top in favor of /proc/threads
- uthread crashes
- open("") crashes
- signal_send_pgid doesn't work
- pipes don't block writes when full
