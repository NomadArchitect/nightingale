language: cpp
sudo: required
dist: xenial
compiler:
- clang
os:
- linux
services:
- docker
before_install:
- echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin
- bash ./build_deps/docker_build.sh
script:
- docker run --rm -v "${TRAVIS_BUILD_DIR}":/nightingale tyler569/nightingale-build
  /bin/sh -c 'cd /nightingale && make'
after_success:
- bash ./build_deps/docker_push.sh
addons:
  artifacts:
    paths:
    - "${TRAVIS_BUILD_DIR}/ngos64.iso"
    target_paths:
    - "/$(git describe --tags)"
    - "/latest"
env:
  global:
  - secure: 3Ztqufagp/+tmHH0EPJk5JvfOqBTPHEVsQofII49f2FLOyTyklGl3c/93Sx546FU3yi4DcQRQ/Ms4QVL/NAk/GiveIyGr4CXX8T0PcPu0XApbCvSebZc5lJJv9GD9NWn5sWp3d5mTAQ2ef7iArwMFrys+v4jKO9419QAQi2yKkYW0ez40doqwFCTt4GjlMaa8Jb4ONDXvTB8Je/bkYcZK255qpBPtFK1Qd18iAfjk06QZCpTdBFbpNwXrGBdNhL+GRhKx+D0LM1fN9FzkRWeWpcB1uQeZCWU+UyhrokS53mS99lUI7uoEjNueZJjEtfz8VB5Jr0K7u0g5xaNqoEp8Eh/XKtuiALddpY2t5p2oVT867KbzdPJabodKt3N+3LkxUXwBrUzZfadTrdC/xgkmm3ml0vYmE6f2uCOkif1myxMfZPMNvqJ6cNTiLN98s4j+QNNe1HSuGfc5ujV80Qhsk5mxsZ7z1hdfASXak2/jT+PoX+pAFJG73vWXHTRVoY+nDYH3yrv+QLs2Go242Yu0eIoXfK3gBQZmKFk0gcj3av4vkXVlOCxK0h0v7Jjj0E43JBN/3xlXNRM6pMFYO6O3X1OZLAsMZbXV30uqipG6Gyt2YVJS5agr5Xj2Guelz+FXS9Y/uwpbyeEnXDMpUREQ0+xYGyI08/ZjnQQFyTXKak=
  - secure: BZ6hg9aWjoY4ag1rPTKRgLOSdHFnE1DeAgubVjYue7gixGpCGiAQhPKIwVXux/ZmqxrmdR4TFdiTvTPvLGvJOTEStIPcNB7fd+aGDO2mruwmEMQuslik8li4jr7Cu93EErI4LkbHq0lZ3XPBzC6XdAByRq9Kfquq/6EEtvrQkikP9KZDYGOIWOpaeM+oiOwjnaT8Z+OCYWJYgkRilOai7QXrH8Glh79xAwDuv0+aSIPn42Fyx9CSegfoaeuzo7PPOh0R/e9iXsxG0kc2jkhhrgaQ18XzN1xFuknPuElcv+veDGFtZdSJjDXDfweuFoTs0BPwFX4L5KidA/U0QyaAbMAPtSWzK3JGLI4fK8czToZ1eKo7HDC3S0wnQhbzg0/3tVvc7PF38kqAC0xtLDUkox4AhUHFBaykKsueq8RpA5HK5nbbBhn+LE/3/2DMpo9DEJEX6st1smxUZAqKE9tLn2kGQT2t6OT6SJzksxFIzul7XIMRoLPdqAuu/0mz7an9JNbEB/Rwww0BuUYE+piDc8f8I6zJyNv2FHnpRvJPGvNtML3UnXztKYogOrOQFb/LzX1wS5ql/qswGhfmrfVYnLkKAKhgIYtVXpUyeeU0Au114r9VSDL184pUfwAT3gH4kXB4BKTnstErSLTZmG5ocI6mLSAGpUgDk+reG9zuXG0=
  - secure: HhjEtsS4/qKagjEQPvy8xN79gqWFjju54C/S5qZ0cws7JCoeO1rn8ggqhyjpRyVAg+NrlOW1nRH/wyaU+rGOfCxP+/By+pX770vqyDCJpy93Kb0jy4JqVTtb634PCjVtyfv4LJVbnLD0pwDmK0CflbGPnCsndAS2LD84yLgLd38o5xiN/omTvHeuoDgIdWkY4vd4hJmOsDmCRik/6gk7/SamzxSUsRSQuFoTxzWpR1S4d/P0TOTtmyYIzPeydJNgq/xxKqKbjkaj4i++CMNGhaTYKwZB+sV0+eJCUtntzU1VwIwEYa2tw4NL/HrohKWt4d2LyuGIlb2dFNGLc7/fTv4YzWI0EUWNsb+JQ8Qeg9RmR3f2CbZOcuNbMg5+Wue/lXqnK3wuMYxaUjM/9Y0JLU9SegvU+jTLW6vlPHoCo3wmx1dsEIVuifIP0c/iMRGZYGeCoBlBynyyWCLAGNuQHPmxbBue6dSqU+c2fcdK99Aw7saQgid9DjPx3oVHWkYB2S6M88G7pPkz/MAHaxyigfm2w+Rtbvhf50YJbVM+SjNNkaihVEwplW/Xj0+EwAS+3EjR0oGQNz64grpGzxIH+p6+B1ZcSxzdrefdarRc+oTGgTU+R0rGe6AEexi7s7cAcxyQzO1uTvEbhcN64wWpbP5BgFdj4t59cgcqNMQJpWc=
  - secure: UFzcxfWCHHC7ynclMWv9bJ1tot94/NaEhMbAiAA+hftEH26BGlVQgk5HyLFOnlXSAaWHa+KS6dBShxgXYluboVEfjU1pjXqHLo8gsWQSzIsfBAUmeuRDmACOoaXLfiCfE4sUoUN+uuaS2L+2IJPeCCqc6fa0mqXMVjhHRZxsuzDlrURymXmDUyaU9qgCRgRiflLe4dISHsTw4vXKJ3rwxUu7KPnzKr4CFE+0Umrr7YL4996dscVXUOiyByYL3i5F9CP1NOcVRKQw44CFqQzmJebypmiN28F3GE8efhI6VyScHdjqsalX3S1dTQwxHXOj/lhAeBfIDlbEY/LAdUp8HHcAZ1UK0GcJS7w64EKzWCq/yrncCjj1bihvOQ/ruaij0t5Mi+HMbWJDQEPfL87Lxl4Ej3O8rkEMhcCdHdSNUQAzXwHRo8Rurg4554cWKYHKXmHTi97O2y2r9dWv6VVIhK5ogVRxq2l5hbDsUHBcQUWQab1KpcuLdlCFo5ebGIHoXrnK576iQvr9g5gWphRkN5FuOedV98PcABgQtHcs/GsbAHtNDFZ5tw044OEqRKP3kzp3gN2HIZaUCKyVZK8nKhWh/XBnsBgS9yR87dgWBNTCuvAKRIeGlI4nqoD8aiiab6SOs2aRVbIQgvqE2wxw34vINXb3DJodT2RKoVrc0lI=
  - secure: pKF1062G+9TqapYCuBy/mWfuNzJ6V5F1Eg7Vj/bvvqpgqcOrcldgmuKlqB8y9YZjC9lnzhS72UhlqqeSGgWAWND7djiVJP2VtUUWFJdC3bVTRMzePxCBWLbI07hlXs5ZxphhPDFrksZLsmzg+ykYjvtF18qneGXtLI+9jOX1TdT27yX45d4FT9BAk3gh0xvwCzEd3c4G4ItsUi+2h5/fDUkqyBTHmXT2KlqqW5Pja171Camx8Q2lv1eu+7VvFI3bUDuYCP3WRQ3r8Ru4pE6hMGJcbUClYteHVO8q1paDtdkQ/kjrzSZMPDSsDI3HIL7XsHjbaVwLDnHgBu0Ynk2z2vSHrRSQ6KXfbW4n5iZwIBBoOQxUPZmuOU61E0eNLIXuSrV8Z4LlyAkx3nmWIVMigEZ5zXThSjX6ovs6WBbAuEbljG+lvFUPaDaBU39YbiZjvwy3kzxGaRmTfGMxazvNB7JHGJdgBJFC4dLTYSXCsM2j0niLF9qJXMFznOfpCnaoOdjB/TH6fX2XfJC32gskEXDEI08WPqVIMy+LD4h/HE7R+bOAnu9VajAU2wd1/22AslGmPJNeumhtU4WF366aOVNeXlUPCwXcGsmngEBKjn4H0HskDyMtyyQvlotS55v4BbDILrxy5/AYlgIGUIE6ByT8sppzyeddfYWhi/rFoSQ=
  - secure: zIBzxzURXQSdREwD7OxqcmZx9/2tRPVWH1B9JM0cx22nk6NAyyX4MYt96zT2zEnQpl++LEMuG6coj2rvLXPcenMDt/b0KRNX77OTnIujr6tyR3bOALEW1TzA6R39ifg5zL2RJbSGrNkWmUVW/ZVVyIVE+8wO8cbyjR9bcTzKHfeUZwTMkolDNl5Z9hwaQki397sx8RCcqeYK3RjKV3oQUBF6qIlAoVu3/BodxTXnToZNNFgobj8KlWw+YypMMRLyZcgMwBgai8tidHrfwHtdRi96YnV1Dxs7CVID4wLZquzP8qJ4tNPHWz7lmbO8tEXTlgQPh/2HB3jDvU/289me8n0Ov9eVlmj/OeKF3iQEi9EA6WtPak73Urx8bT9npZhLfqM2X2XcXNCAwWFvnuY5mKCpeB+ARhM/3HAqd7ecezhr2tqEv4u8+KrbTLPliU8QVZc/Ce7/HCbo2b7Ic472YN4g6fYL4YoU9EiETfN+24ri2dvw8OJVXsN2YfSk69Zd6FXODQzxe6Z+KhK/MOwWrmtfwh4kNJhqv2Qm7KHc9hh8qUMns4IoKTvvWjUF4WZB+tSsjt2MnMNbKjI5f2bi41zuv4CotAlxO8nLOnmQWWCUS8h9EUh/Xxq5tqRrdgw5Lxa6iZT1wtsOzC6QLCtZgeE+U072r7kukAqhgw2AXxM=
